package com.sumian.common

import com.google.gson.JsonObject
import com.google.gson.reflect.TypeToken
import com.sumian.common.utils.JsonUtil
import org.junit.Test
import java.util.*

/**
 * @author : Zhan Xuzhao
 * e-mail : 649912323@qq.com
 * time   : 2019/2/25 19:04
 * desc   :
 * version: 1.0
 */
class KotlinTest {
    @Test
    fun test() {
        val json = "[{\"name\":\"service_phone\",\"value\":\"400-618-1318\",\"visible\":1},{\"name\":\"about_us_title\",\"value\":\"\\u901f\\u7720SUMIAN\",\"visible\":1},{\"name\":\"about_us_content\",\"value\":\"<!DOCTYPE html><html><head><meta charset=\\\"UTF-8\\\"><meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\"><style>html {background: #212329;color: #7D8FB3;}<\\/style><\\/head><body><p><span style=\\\"font-size: 16px;\\\">    \\u901f\\u7720\\u662f\\u4e00\\u5bb6\\u63d0\\u4f9b\\u201c\\u7269\\u7597\\u7761\\u7720\\u4e13\\u5c5e\\u5904\\u65b9\\u65b9\\u6848\\u201d\\u7684\\u7761\\u7720\\u7814\\u7a76\\u79d1\\u6280\\u516c\\u53f8\\u3002<\\/span><\\/p>\\r\\n<p><span style=\\\"font-size: 16px;\\\">     \\u9488\\u5bf9\\u91cd\\u5ea6\\u5931\\u7720\\u60a3\\u8005\\uff0c\\u901f\\u7720\\u63d0\\u4f9b\\u201c\\u901f\\u7720\\u4eea+\\u76d1\\u6d4b\\u4eea+\\u533b\\u5e08\\u670d\\u52a1\\u201d\\u6574\\u5957\\u5904\\u65b9\\u65b9\\u6848\\u3002\\u901a\\u8fc7\\u201c\\u7761\\u7720\\u76d1\\u6d4b\\uff0b\\u533b\\u5e08\\u5e72\\u9884\\u201d\\u7684\\u65b9\\u5f0f\\uff0c\\u4ee5\\u201c\\u65e0\\u4f24\\u5bb3\\u201d\\u4e3a\\u6838\\u5fc3\\uff0c\\u901f\\u7720\\u4e3a\\u91cd\\u5ea6\\u5931\\u7720\\u60a3\\u8005\\u63d0\\u4f9b\\u5b9a\\u5236\\u5316\\u7684\\u533b\\u5e08\\u5904\\u65b9\\u65b9\\u6848\\uff1a\\u4ece\\u7cbe\\u786e\\u68c0\\u6d4b\\u5230\\u7cbe\\u51c6\\u6cbb\\u7597\\uff0c\\u901f\\u7720\\u76d1\\u6d4b\\u4eea\\u642d\\u914d\\u8fd0\\u7528\\u201c\\u65e0\\u4f24\\u5bb3\\u8109\\u51b2\\u78c1\\u573a\\u8c03\\u5236\\u201d\\u5931\\u7720\\u6cbb\\u7597\\u4eea\\uff0c\\u5168\\u7a0b\\u914d\\u5408\\u4e13\\u4e1a\\u8d34\\u5fc3\\u7684\\u533b\\u5e08\\u670d\\u52a1\\uff0c\\u5b89\\u5168\\u6709\\u6548\\u5730\\u4e3a\\u91cd\\u5ea6\\u5931\\u7720\\u60a3\\u8005\\u89e3\\u51b3\\u7761\\u7720\\u95ee\\u9898\\u3002 \\u9488\\u5bf9\\u533b\\u9662\\u548c\\u533b\\u751f\\uff0c\\u901f\\u7720\\u63d0\\u4f9b\\u901f\\u7720\\u4e91\\u533b\\u6570\\u636e\\u7cfb\\u7edf\\uff0c\\u52a9\\u529b\\u7761\\u7720\\u79d1\\u533b\\u751f\\u8bca\\u7597\\u53ca\\u79d1\\u7814\\u3002<\\/span><\\/p>\\r\\n<p><span style=\\\"font-size: 16px;\\\">    \\u4e91\\u533b\\u6570\\u636e\\u4e2d\\u5fc3\\u96c6\\u201c\\u7761\\u7720\\u76d1\\u6d4b\\u968f\\u8bbf\\u201d\\u3001 \\u201c\\u6570\\u636e\\u5206\\u6790\\u201d\\u4e8e\\u4e00\\u4f53\\uff0c\\u52a9\\u529b\\u7761\\u7720\\u79d1\\u533b\\u751f\\u8bca\\u7597\\u53ca\\u79d1\\u7814\\u3002\\u57fa\\u4e8e\\u60a3\\u8005\\u4e0e\\u8bbe\\u5907\\u53ca\\u8bbe\\u5907\\u4e0e\\u8bbe\\u5907\\u7684\\u4e92\\u8054\\u4e92\\u901a\\uff0c\\u533b\\u751f\\u4e0e\\u60a3\\u8005\\u4e4b\\u95f4\\u7684\\u4e92\\u52a8\\uff0c\\u5b9e\\u73b0\\u8fdc\\u7a0b\\u76d1\\u63a7\\u53ca\\u667a\\u80fd\\u968f\\u8bbf\\uff0c\\u638c\\u63e1\\u60a3\\u8005\\u9662\\u5916\\u4fe1\\u606f\\uff0c\\u6539\\u5584\\u60a3\\u8005\\u4f9d\\u4ece\\u6027\\uff1b\\u7535\\u5b50\\u5316\\u626b\\u63cf\\u5f55\\u5165\\uff0c\\u544a\\u522b\\u7e41\\u7410\\u7eb8\\u5f20\\u91cf\\u8868\\uff1b\\u5145\\u5206\\u6316\\u6398\\u548c\\u5206\\u6790\\u7761\\u7720\\u6837\\u672c\\uff0c\\u5b89\\u5168\\u5171\\u4eab\\u79d1\\u7814\\u6570\\u636e\\uff0c\\u52a9\\u529b\\u7761\\u7720\\u79d1\\u7814\\u4e8b\\u4e1a\\u53d1\\u5c55\\uff0c\\u63a8\\u52a8\\u7761\\u7720\\u884c\\u4e1a\\u521b\\u65b0\\uff0c\\u5f00\\u521b\\u5065\\u5eb7\\u7761\\u7720\\u65b0\\u65f6\\u4ee3\\u3002<\\/span><\\/p>\\r\\n<\\/body><\\/html>\",\"visible\":1},{\"name\":\"doctor_consultation_welcome\",\"value\":\"\\u60a8\\u597d\\uff0c\\u6211\\u662f\\u60a8\\u7684\\u4e13\\u5c5e\\u7761\\u7720\\u533b\\u751f\\u3002\\u6709\\u4ec0\\u4e48\\u7761\\u7720\\u95ee\\u9898\\u90fd\\u53ef\\u4ee5\\u7559\\u8a00\\u54a8\\u8be2\\u6211\\u3002\",\"visible\":1},{\"name\":\"customer_service_welcome\",\"value\":\"\\u60a8\\u597d\\uff0c\\u6211\\u662f\\u60a8\\u7684\\u552e\\u540e\\u5ba2\\u670d-\\u5c0f\\u7720\\u3002\\u5bf9\\u4e8e\\u8bbe\\u5907\\u60a8\\u6709\\u4ec0\\u4e48\\u7591\\u95ee\\uff0c\\u90fd\\u53ef\\u4ee5\\u54a8\\u8be2\\u6211\\u3002\",\"visible\":1},{\"name\":\"advisory_timeout\",\"value\":\"1\",\"visible\":1},{\"name\":\"wechat_official_bind_doctor_msg_count\",\"value\":\"55\",\"visible\":1},{\"name\":\"home_banners\",\"value\":[\"https:\\/\\/sleep-doctor-dev.oss-cn-shenzhen.aliyuncs.com\\/admin\\/pictures\\/4be60ed5-ba4b-4a75-8986-4e616d9caa6e.jpg\",\"https:\\/\\/sleep-doctor-dev.oss-cn-shenzhen.aliyuncs.com\\/admin\\/pictures\\/c9a349ab-ea02-432c-a6cd-e4d04f5c8bd9.jpg\",\"https:\\/\\/sleep-doctor-dev.oss-cn-shenzhen.aliyuncs.com\\/admin\\/pictures\\/3716f2d6-e889-492f-8697-acf47bfc2ae2.jpg\"],\"visible\":1},{\"name\":\"learning_banners\",\"value\":\"https:\\/\\/sleep-doctor-dev.oss-cn-shenzhen.aliyuncs.com\\/admin\\/pictures\\/0df58441-3f9c-4024-925b-14745de29980.jpg\",\"visible\":1},{\"name\":\"settle_review_auto_audit_timeout\",\"value\":\"1\",\"visible\":1},{\"name\":\"wechat_resend_bind_doctor_time\",\"value\":\"2\",\"visible\":1},{\"name\":\"wechat_recheck_purchase_cbti_time\",\"value\":\"1\",\"visible\":1},{\"name\":\"sleep_restriction_introduction\",\"value\":\"https:\\/\\/sd-dev-oss-cdn.sumian.com\\/admin\\/pictures\\/097d78d1-02e7-40c4-9b57-da58b8c5af87.jpg\",\"visible\":1}]"
        val list = JsonUtil.fromJson<ArrayList<JsonObject>>(json, object : TypeToken<ArrayList<JsonObject>>() {

        }.type) ?: return
//        val r = list.filter { it.get("name").asString == "sleep_restriction_introduction" }[0]
//        println(r.get("value").asString)

        val url = list.filter { it.get("name").asString == "sleep_restriction_introduction" }[0].get("value").asString
        println(url)

    }
}
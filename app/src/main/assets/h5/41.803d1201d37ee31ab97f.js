webpackJsonp([41],{CVXV:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("mvHQ"),a=r.n(s),n=r("aQR8"),i=r("rHil"),o=r("32ER"),c=r("gyMJ"),p=(i.a,o.a,{name:"electronicReport",components:{Group:i.a,CellBox:o.a},data:function(){return{contentHeight:"",reports:[],showReport:this.$route.query.reports||"all",page:1,per_page:15}},methods:{toLink:function(t){var e={page:"onlineReport",payload:t};this.$router.push({name:"native-route",query:{data:a()(e)}})},refresh:function(t){console.log("refresh"),this.page=1,this.per_page=15,this.getReports(t)},infinite:function(t){console.log("infinite"),this.page=1,this.per_page=this.per_page+10,this.getReports(t)},getReports:function(t){var e=this,r={params:{page:this.page,per_page:this.per_page}};c.a.get("/online-reports",r).then(function(r){console.log(r),e.reports=r.data.data,e.reports.map(function(t){t.created_at=e.$moment.unix(t.created_at).format("YYYY.MM.DD HH:mm:ss")}),"all"!==e.showReport&&(e.reports=e.filter(e.reports,e.showReport)),console.log(e.reports),t&&t(!0)}),this.reports.map(function(t){t.created_at=e.$moment(t.created_at).format("YYYY.MM.DD HH:mm:ss")}),t&&t(!0)},filter:function(t,e){var r=[];return t.map(function(t){for(var s=0;s<e.length;s++)Number(e[s])===Number(t.id)&&r.push(t)}),r}},created:function(){this.getReports()},mounted:function(){this.contentHeight=n.c.height+"px"}}),l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"electronicReport"}},[r("scroller",{staticStyle:{height:"100%",width:"100%"},attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite,noDataText:""}},[r("div",{staticClass:"scroller-box"},[0===t.reports.length?r("div",{staticClass:"no-data",style:{height:t.contentHeight}},[r("svg-icon",{staticClass:"no-data-icon",attrs:{"icon-class":"emptystate_img_report"}}),t._v(" "),r("p",{staticClass:"title"},[t._v("暂无电子报告")]),t._v(" "),r("p",{staticClass:"decs"},[t._v("报告更新后，我们会在消息中心通知您")])],1):t._e(),t._v(" "),r("div",{staticClass:"data"},t._l(t.reports,function(e){return r("div",{key:e.id,staticClass:"data-list",on:{click:function(r){t.toLink(e)}}},[r("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),r("p",{staticClass:"time"},[t._v(t._s(e.created_at))])])}))])])],1)},staticRenderFns:[]};var u=r("VU/8")(p,l,!1,function(t){r("j9wg")},null,null);e.default=u.exports},j9wg:function(t,e){}});
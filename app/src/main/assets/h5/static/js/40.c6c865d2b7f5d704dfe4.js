webpackJsonp([40],{"5XQP":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("aQR8"),i=s("gyMJ"),n={name:"scale-list",data:function(){return{contentHeight:"",scaleData:null,page:1,per_page:15}},methods:{refresh:function(t){this.per_page=15,this.getScales().then(function(e){t(!0)})},infinite:function(t){this.per_page+=15,this.getScales().then(function(e){t(!0)})},getScales:function(){var t=this,e={page:this.page,per_page:this.per_page,type:"filled",include:"result"};return i.a.get("/scale-distributions",{params:e}).then(function(e){t.scaleData=[],e.data.data.map(function(e){e.result.updated_at=t.$moment.unix(e.result.updated_at).format("YYYY-MM-DD"),0!==e.scale_result_id&&t.scaleData.push(e)})})}},created:function(){this.getScales()},mounted:function(){this.contentHeight=a.a.height+"px"}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"scale-list"}},[s("scroller",{staticStyle:{width:"100%"},style:{height:t.contentHeight},attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite,noDataText:""}},[s("div",{staticClass:"scroller-box"},[t._l(t.scaleData,function(e){return 0!==e.scale_result_id?s("router-link",{key:e.id,staticClass:"scale-list",attrs:{to:{path:"/scale-details/"+e.id}}},[s("p",{staticClass:"title"},[t._v(t._s(e.scale.title))]),t._v(" "),s("p",{staticClass:"description"},[t._v(t._s(e.result.updated_at))]),t._v(" "),0!==e.result.score?s("span",{staticClass:"score"},[t._v(t._s(e.result.score)+"分")]):t._e(),t._v(" "),s("span",{staticClass:"type"},[t._v(t._s(e.result.result||"已完成"))])]):t._e()}),t._v(" "),t.scaleData&&0===t.scaleData.length?s("div",{staticClass:"no-data",style:{height:t.contentHeight}},[s("svg-icon",{staticClass:"no-data-icon",attrs:{"icon-class":"emptystate_img_report"}}),t._v(" "),s("p",{staticClass:"title"},[t._v("暂无测评记录")]),t._v(" "),s("p",{staticClass:"decs"},[t._v("了解您的睡眠健康及心理状况")])],1):t._e()],2)])],1)},staticRenderFns:[]};var c=s("VU/8")(n,l,!1,function(t){s("Mdk2")},null,null);e.default=c.exports},Mdk2:function(t,e){}});
//# sourceMappingURL=40.c6c865d2b7f5d704dfe4.js.map
webpackJsonp([21],{"5mzM":function(e,t){},"7zrw":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("f6Hi"),c=(i.a,Number,Boolean,{name:"x-progress",mixins:[i.a],props:{percent:{type:Number,default:0},showCancel:{type:Boolean,default:!0}},methods:{cancel:function(){this.$emit("on-cancel")}}}),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-progress"},[t("div",{staticClass:"weui-progress__bar"},[t("div",{staticClass:"weui-progress__inner-bar",style:{width:this.percent+"%"}})]),this._v(" "),t("a",{directives:[{name:"show",rawName:"v-show",value:this.showCancel,expression:"showCancel"}],staticClass:"weui-progress_opr",attrs:{href:"javascript:;"}},[t("i",{staticClass:"weui-icon-cancel",on:{click:this.cancel}})])])},staticRenderFns:[]};var n=s("VU/8")(c,a,!1,function(e){s("5mzM")},null,null).exports,o=s("odqc"),r=s("Znkm"),l=s("rHil"),u=s("1DHf"),_=s("gyMJ"),d=s("NYxO"),v=(Object(d.b)({sectionHomeTab:function(e){return e.cbti.sectionHomeTab}}),o.a,r.a,l.a,u.a,{name:"",data:function(){return{chapterId:null,swiperIndex:0,week:{},exercises:{}}},computed:Object(d.b)({sectionHomeTab:function(e){return e.cbti.sectionHomeTab}}),created:function(){this.chapterId=this.$route.query.id,this.getCourses(this.$route.query.id),this.GetExercises(this.$route.query.id),this.swiperIndex=this.sectionHomeTab},watch:{swiperIndex:function(e){this.$store.dispatch("SetSectionHomeTab",e)}},methods:{getCourses:function(e){var t=this;_.a.get("/cbti-chapter/"+e+"/courses").then(function(e){var s=e.data;s.data.map(function(e){e.duration=t.$moment.duration(1e3*e.duration).minutes()+"’"+t.$moment.duration(1e3*e.duration).seconds()}),console.log("getCourses",s),t.week=s})},GetExercises:function(e){var t=this;_.a.get("/cbti-chapter/"+e+"/exercises").then(function(e){var s=e.data;console.log("GetExercises",s),t.exercises=s})},goToCurriculum:function(e){e.is_lock?this.$vux.toast.text("完成上节课程后解锁"):this.$router.push({name:"curriculum",query:{id:this.chapterId,cid:e.id}})},goToExercise:function(e){e.is_lock?this.$vux.toast.text("观看课程后解锁"):this.$router.push("/cbti/exercises?id="+e.cbti_course_id)}},components:{XProgress:n,Tab:o.a,TabItem:r.a,Group:l.a,Cell:u.a}}),p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.week.meta&&e.week.data?s("div",{staticClass:"section-home"},[s("div",{staticClass:"section-home-header",style:{backgroundImage:"url("+e.week.meta.chapter.banner+")",backgroundSize:"100% 100%"}},[s("div",{staticClass:"title"},[e._v("\n      "+e._s(e.week.meta.chapter.title)+"\n    ")]),e._v(" "),s("div",{staticClass:"introduce"},[e._v("\n      "+e._s(e.week.meta.chapter.introduction)+"\n    ")]),e._v(" "),s("div",{staticClass:"schedule",class:{over:100===e.week.chapter_progress}},[s("span",{staticClass:"text"},[e._v("课程进度")]),e._v(" "),s("span",{staticClass:"percentage"},[e._v(e._s(e.week.meta.chapter_progress)+"%")]),e._v(" "),s("x-progress",{staticClass:"percent",attrs:{percent:e.week.meta.chapter_progress,"show-cancel":!1}}),e._v(" "),s("div",{staticClass:"over-icon"},[s("svg-icon",{staticClass:"login_icon_selected",attrs:{"icon-class":"login_icon_selected"}}),e._v("\n        已完成\n      ")],1)],1)]),e._v(" "),s("tab",{ref:"tab",attrs:{"line-width":3,"custom-bar-width":"100px","active-color":"#6595F4"},model:{value:e.swiperIndex,callback:function(t){e.swiperIndex=t},expression:"swiperIndex"}},[s("tab-item",{staticClass:"vux-center"},[e._v("课程")]),e._v(" "),s("tab-item",{staticClass:"vux-center"},[e._v("练习")])],1),e._v(" "),s("keep-alive",[0===e.swiperIndex?s("group",{staticClass:"curriculum"},e._l(e.week.data,function(t){return s("div",{key:t.id,on:{click:function(s){e.goToCurriculum(t)}}},[s("cell",{class:[t.is_lock?"slock":"",t.regard_as_done||t.is_lock?"":"ing"]},[s("div",{attrs:{slot:"title"},slot:"title"},[s("p",[e._v(e._s(t.title))]),e._v(" "),s("p",[s("svg-icon",{staticClass:"cbti_icon_time",attrs:{"icon-class":"cbti_icon_time"}}),e._v("\n              "+e._s(t.duration)+"\n            ")],1)]),e._v(" "),t.is_lock?e._e():s("div",[e._v(e._s(t.regard_as_done?"复习":"学习"))]),e._v(" "),t.is_lock?s("div",[s("svg-icon",{staticClass:"cbti_icon_exerciselock",attrs:{"icon-class":"cbti_icon_exerciselock"}})],1):e._e()])],1)})):e._e()],1),e._v(" "),s("keep-alive",[1===e.swiperIndex?s("group",{staticClass:"practice"},e._l(e.exercises.data,function(t){return s("div",{key:t.cbti_course_id,on:{click:function(s){e.goToExercise(t)}}},[s("cell",{class:{no:t.is_lock}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),e._v(" "),!t.is_lock&&t.done?s("div",[s("svg-icon",{staticClass:"icon-ft",staticStyle:{width:".32rem"},attrs:{"icon-class":"cbti_icon_exercisecomplete"}})],1):e._e(),e._v(" "),t.is_lock?s("div",[s("svg-icon",{staticClass:"icon-ft",staticStyle:{width:".36rem",height:".36rem"},attrs:{"icon-class":"cbti_icon_exerciselock"}})],1):e._e()])],1)})):e._e()],1)],1):e._e()},staticRenderFns:[]};var h=s("VU/8")(v,p,!1,function(e){s("gLUf")},null,null);t.default=h.exports},gLUf:function(e,t){}});
//# sourceMappingURL=21.35dfe7a1951e5bb6cd98.js.map
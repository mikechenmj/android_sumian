webpackJsonp([39],{Kb5Z:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),c=s("rHil"),n=s("1DHf"),r=s("/AfO"),o=s("o0rJ"),l=s("jNWb"),_=s("mHYM"),d=(c.a,n.a,r.a,l.a,Object,Object,{name:"payment",components:{Group:c.a,Cell:n.a,XCircle:r.a,SleepDialog:l.a},props:{chapters:{type:Object},service:{type:Object}},data:function(){return{dialog:!1,scale_distribution_ids:"",chapter_id:""}},mounted:function(){this.chapters||this.$store.dispatch("GetCbtiChapters").then(function(t){console.log(t)})},methods:{handleOk:function(){this.$router.push("scale-details/scales?scale_id="+this.scale_distribution_ids+"&&chapter_id="+this.chapter_id)},toPush:function(t){var e=Object(_.a)();t.is_lock?t.open_date_text?this.$vux.toast.text(t.open_date_text):this.$vux.toast.text("请完成上周课程"):2===e?""!==t.scale_distribution_ids?(this.dialog=!0,this.scale_distribution_ids=t.scale_distribution_ids,this.chapter_id=t.id):Object(o.a)(function(e){e.callHandler("onCbtiChapterClick",{code:0,message:"onCbtiChapterClick",result:{chapterId:t.id}})}):""!==t.scale_distribution_ids?(this.dialog=!0,this.scale_distribution_ids=t.scale_distribution_ids,this.chapter_id=t.id):this.$router.push("/cbti/section-home?id="+t.id)},introduceStatic:function(){var t=[];this.chapters.data.map(function(e){t.push(e.title)});var e={video_url:this.service.video,chapters:a()(t),description:this.service.description,picture:this.service.picture,banner_type:this.service.banner_type};localStorage.setItem("introduce_data",a()(e)),this.$router.push({path:"/cbti/introduce"})}}}),p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payment"},[s("div",{staticClass:"payment-header",style:{backgroundImage:"url("+t.service.picture+")",backgroundSize:"100% 100%"}},[s("div",{staticClass:"payment-title"},[t._v("\n      "+t._s(t.service.name)+"\n    ")]),t._v(" "),s("div",{staticClass:"payment-introduce"},[t._v("\n      "+t._s(t.service.bought_description)+"\n    ")]),t._v(" "),s("div",{staticClass:"payment-nav"},[s("span",[t._v("\n        "+t._s(t.chapters.meta.total_progress_text)+"\n      ")]),t._v(" "),s("span",{staticClass:"more",on:{click:t.introduceStatic}},[t._v("\n        了解更多 >\n      ")])])]),t._v(" "),s("group",{staticClass:"payment-list"},t._l(t.chapters.data,function(e){return s("cell",{key:e.name,class:{no:e.is_lock},attrs:{"is-link":""},nativeOn:{click:function(s){t.toPush(e)}}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("p",{staticClass:"name"},[t._v(t._s(e.title))]),t._v(" "),e.is_lock||100!==e.chapter_progress?t._e():s("p",{staticClass:"center"},[s("svg-icon",{staticClass:"p-icon",attrs:{"icon-class":"login_icon_selected"}}),t._v(" "),s("span",[t._v("已完成")])],1),t._v(" "),!e.is_lock&&e.chapter_progress<100?s("p",{staticClass:"center"},[s("span",{staticClass:"p-icon"},[s("x-circle",{attrs:{percent:e.chapter_progress,"stroke-width":15,"trail-width":15,"stroke-color":"#6595F4","trail-color":"#dfe1e2"}})],1),t._v(" "),s("span",[t._v("进度："+t._s(e.chapter_progress)+"%")])]):t._e(),t._v(" "),e.is_lock?s("p",{staticClass:"center"},[s("svg-icon",{staticClass:"p-icon",attrs:{"icon-class":"cbti_icon_exerciselock"}}),t._v("\n          "+t._s(e.open_date_text?e.open_date_text:"请先完成上周课程")+"\n        ")],1):t._e()])])})),t._v(" "),s("sleep-dialog",{attrs:{title:"CBTi评估",content:"为更好地追踪治疗效果，我们需要您配合定进行评估，请您耐心完成评估",cancel:!1,submitText:"去评估"},on:{handleOk:t.handleOk},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)},staticRenderFns:[]};var u=s("VU/8")(d,p,!1,function(t){s("nNp2")},null,null);e.default=u.exports},nNp2:function(t,e){}});
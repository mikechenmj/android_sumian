webpackJsonp([30],{"0Cyt":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("lRwf"),o=s.n(i),a=s("oWtu"),n=s("Y52p"),c=s("f4/6"),r=s("NYxO"),l=s("gyMJ"),d=s("Xe5u"),u=s("mHYM"),v=s("2CHa"),_=s("SpbH"),h=s.n(_),f=(Object(r.b)({profile:function(t){return t.user.profile}}),c.a,a.a,n.a,{computed:Object(r.b)({profile:function(t){return t.user.profile}}),components:{Tabbar:c.a,Icon:a.a,XImg:n.a},data:function(){return{downArrow:h.a,showDetailBtn:!1,showAll:!1,doctorDetails:{avatar:"#"}}},methods:{scanCode:function(){var t=this;o.a.nextTick(function(){Object(d.a)().then(function(e){wx.ready(function(){wx.scanQRCode({desc:"scanQRCode desc",needResult:1,scanType:["qrCode"],success:function(e){var s=t.getLocation(e.resultStr);-1!==s.href.indexOf(".sumian.com")&&t.$router.push(s.pathname)},error:function(t){t.errMsg.indexOf("function_not_exist")>0&&alert("版本过低请升级")}})})})})},apiDoctor:function(){var t=this;if(Object(v.a)())l.a.get("user/doctor").then(function(e){t.doctorDetails=e.data,o.a.nextTick(function(){t.$refs.doc_des.getBoundingClientRect().height>120&&(t.showDetailBtn=!0)})}).catch(function(t){console.log(t)});else{if(!this.$route.query.doctorId)return void this.$router.push({name:"login"});l.a.get("doctors/"+this.$route.query.doctorId).then(function(e){t.doctorDetails=e.data,o.a.nextTick(function(){t.$refs.doc_des.getBoundingClientRect().height>120&&(t.showDetailBtn=!0)})}).catch(function(t){console.log(t)})}},jumpToServiceDetail:function(t){this.$router.push({path:"/doctor-service/"+t})},getLocation:function(t){var e=document.createElement("a");return e.href=t,e},showDetail:function(){this.showAll=!0}},created:function(){this.apiDoctor(),console.log(Object(u.e)(this.profile))}}),p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-doctor",staticStyle:{"background-color":"#F2F3F5"}},[s("Tabbar",[t.profile&&null===t.profile.doctor?s("div",{staticClass:"unbind"},[s("div",{staticClass:"title"},[t._v("扫码绑定医生")]),t._v(" "),s("div",{staticClass:"content"},[s("p",[t._v("\n          您还未绑定主治医生，点击下方扫码按钮，扫描医生二维码进行绑定。\n        ")]),t._v(" "),s("p",[t._v("\n          二维码一般由医生提供，请向主治医生咨询。\n        ")])]),t._v(" "),s("button",{staticClass:"scan_btn",on:{click:t.scanCode}})]):s("div",{staticClass:"binded"},[s("div",[s("section",[s("div",{staticClass:"header bg-blue"},[s("div",{staticClass:"box_shadow"},[s("img",{attrs:{src:t.doctorDetails.avatar}})]),t._v(" "),s("div",{staticClass:"header_right"},[s("h4",{staticClass:"intro_name"},[t._v(t._s(t.doctorDetails.name))]),t._v(" "),s("span",[t._v(t._s(t.doctorDetails.hospital)+"  "+t._s(t.doctorDetails.department))])])])])]),t._v(" "),s("div",{staticClass:"bg_color_white"},[s("div",{staticClass:"title"},[s("span",[t._v("医生简介")])])]),t._v(" "),s("div",{staticClass:"bg_color_white"},[s("div",{ref:"doc_des",class:!t.showAll&&t.showDetailBtn?"desc":"description"},[s("p",{staticStyle:{"word-wrap":"break-word"},domProps:{innerHTML:t._s(t.doctorDetails.introduction)}}),t._v(" "),t.showDetailBtn&&!t.showAll?s("div",{staticClass:"detail",on:{click:t.showDetail}},[t._v("详细信息\n            "),s("x-img",{attrs:{src:t.downArrow}})],1):t._e()])]),t._v(" "),s("div",{staticClass:"bg_color_white"},[s("div",{staticClass:"title"},[s("span",[t._v("医生服务")])])]),t._v(" "),s("div",t._l(t.doctorDetails.services,function(e,i){return s("section",{key:i,class:{padding_bottom:i+1==t.doctorDetails.services.length},staticStyle:{position:"relative"}},[s("div",{staticClass:"doc_service bg_color_white",class:{margin_top:0==i},on:{click:function(s){t.jumpToServiceDetail(e.type)}}},[s("div",{staticClass:"box_shadow"},[s("img",{staticClass:"service_img",attrs:{src:e.icon}})]),t._v(" "),s("div",{staticClass:"service-cont"},[s("h4",[t._v(t._s(e.name))]),t._v(" "),s("div",[s("div",{staticClass:"text"},[t._v(t._s(e.introduction))])])])])])}))])])],1)},staticRenderFns:[]};var g=s("VU/8")(f,p,!1,function(t){s("r6Zx")},null,null);e.default=g.exports},r6Zx:function(t,e){}});
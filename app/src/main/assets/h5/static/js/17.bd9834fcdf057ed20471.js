webpackJsonp([17],{"4uj0":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("gyMJ"),l=s("Qb34"),c=s("rHil"),i=s("1DHf"),n=s("32ER"),o=(Boolean,Boolean,Boolean,{name:"x-table",props:{fullBordered:Boolean,cellBordered:{type:Boolean,default:!0},contentBordered:{type:Boolean,default:!0}}}),r={render:function(){var e=this.$createElement;return(this._self._c||e)("table",{staticClass:"vux-table",class:{"vux-table-bordered":this.fullBordered,"vux-table-no-cell-bordered":!this.cellBordered,"vux-table-no-content-bordered":!this.contentBordered}},[this._t("default")],2)},staticRenderFns:[]};var u=s("VU/8")(o,r,!1,function(e){s("S4Pl")},null,null).exports,d=(c.a,i.a,n.a,{name:"scale-result",components:{Group:c.a,Cell:i.a,CellBox:n.a,XTable:u},data:function(){return{scaleResult:null,score_type:0,score_table:null}},props:["scaleData"],created:function(){if(this.scaleData){this.scaleResult=this.scaleData.result,this.score_type=this.scaleData.scale.score_type,this.score_table=this.scaleData.scale.comments;var e=this.scaleResult.score;this.score_table.map(function(t){e>=t.min_score&&e<=t.max_score&&(t.isSelect=!0)}),this.scaleResult.updated_at=this.$moment.unix(this.scaleResult.updated_at).format("YYYY-MM-DD HH:mm")}}}),_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"scale-result"}},[s("group",[s("cell",[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("测评结果")])]),e._v(" "),s("cell-box",[0===e.score_type?s("div",{staticClass:"over"},[s("svg-icon",{staticStyle:{width:"100px",height:"100px"},attrs:{"icon-class":"record_h5_icon_complete"}}),e._v(" "),s("p",[e._v("已完成")])],1):s("div",{staticClass:"result"},[s("p",[e._v(e._s(e.scaleResult.result))]),e._v(" "),s("p",[e._v("评测分数："+e._s(e.scaleResult.score)+"分")])])]),e._v(" "),s("cell-box",[e.scaleResult?s("div",{staticClass:"scale-bottom"},[s("p",[e._v("测评时间："+e._s(e.scaleResult.updated_at))]),e._v(" "),s("p",[e._v("测评建议："+e._s(e.scaleResult.comment))])]):e._e()])],1),e._v(" "),e.score_table&&e.score_table.length>0?s("group",[s("cell",[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("测评结果对照表")])]),e._v(" "),s("div",{staticClass:"scale-sore-table"},[s("table",[s("tbody",e._l(e.score_table,function(t){return s("tr",{key:t.id,class:{isSelect:t.isSelect}},[s("td",[e._v(e._s(t.result))]),e._v(" "),t.min_score!==t.max_score?s("td",[e._v(e._s(t.min_score+"~"+t.max_score))]):s("td",[e._v(e._s(t.min_score))])])}))])])],1):e._e()],1)},staticRenderFns:[]};var v=s("VU/8")(d,_,!1,function(e){s("G0KN")},null,null).exports,m=(l.a,{name:"scale-detail",components:{scaleQuestion:l.a,scaleResult:v},data:function(){return{scaleData:null,submit:!1}},computed:{isQuestion:function(){return this.scaleData&&0===this.scaleData.scale_result_id&&this.submit},isIndex:function(){if(this.scaleData&&0===this.scaleData.scale_result_id)return!this.submit}},created:function(){this.getScaleDistributions()},mounted:function(){},methods:{ready:function(){this.submit=!this.submit},getScaleDistributions:function(){var e=this;return a.a.get("/scale-distributions/"+this.$route.params.id,{params:{include:"scale.questions,scale.comments"}}).then(function(t){e.scaleData=t.data,document.title=e.scaleData.scale.title})}}}),h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"blue-bg":e.isIndex},attrs:{id:"scale-details"}},[e.isIndex?s("div",{staticClass:"scale-index"},[s("h1",{staticClass:"title"},[e._v("\n      "+e._s(e.scaleData.scale.title)+"\n    ")]),e._v(" "),s("p",{staticClass:"text"},[e._v("\n      "+e._s(e.scaleData.scale.description)+"\n    ")]),e._v(" "),0!==e.scaleData.doctor_id?s("p",{staticClass:"doctor"},[e._v("\n      发放医生："+e._s(e.scaleData.doctor.name)+"\n    ")]):e._e(),e._v(" "),s("div",{staticClass:"submit",on:{click:e.ready}},[e._v("\n      开始评测\n    ")])]):e._e(),e._v(" "),e.isQuestion?s("scale-question",{attrs:{scaleQuestionData:e.scaleData.scale.questions}}):e._e(),e._v(" "),e.scaleData&&0!==e.scaleData.scale_result_id?s("scale-result",{attrs:{scaleData:e.scaleData}}):e._e()],1)},staticRenderFns:[]};var p=s("VU/8")(m,h,!1,function(e){s("Fhj0")},null,null);t.default=p.exports},Fhj0:function(e,t){},G0KN:function(e,t){},S4Pl:function(e,t){}});
//# sourceMappingURL=17.bd9834fcdf057ed20471.js.map
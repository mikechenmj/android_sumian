webpackJsonp([4,20,29],{"1Buf":function(t,e){},"1VVY":function(t,e){},"2UMw":function(t,e){},"3SDK":function(t,e){},"51nx":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),n=s("mvHQ"),r=s.n(n),c=s("rHil"),o=s("1DHf"),l=s("32ER"),u=s("2sLL"),d=s("o0rJ"),p=s("mHYM"),h=s("to2R"),v=s("Xe5u"),m=(l.a,c.a,o.a,u.a,h.a,Object,Object,{name:"introduce",components:{CellBox:l.a,Group:c.a,Cell:o.a,XButton:u.a,SportActionsheet:h.a},props:{service:{type:Object},chapters:{type:Object}},data:function(){return{outlines:this.chapters.data,playerOptions:{muted:!1,sources:[{type:"video/mp4",src:this.service.meta.video_url}],poster:this.service.picture||s("afU2")},showMake:!0,purchaseShow:!1}},methods:{onPlayerPlay:function(t){this.showMake=!1},add:function(){var t=this,e=Object(p.a)();if(sessionStorage.setItem("selected_service",r()(this.service)),console.log(e,"环境",{service:this.service,packageId:this.service.packages[0].id}),2===e)Object(d.a)(function(e){e.callHandler("buyService",{code:0,message:"buyService",result:{service:t.service,packageId:t.service.packages[0].id}})});else{var s=window.location.origin+"/pay";Object(v.d)(s)}}},created:function(){}}),_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"introduce"},[s("div",{staticClass:"video",staticStyle:{width:"100vw"}},[s("video-player",{staticClass:"vjs-big-play-centere vjs-custom-skin",staticStyle:{width:"7.5rem"},attrs:{options:t.playerOptions},on:{play:function(e){t.onPlayerPlay(e)}}}),t._v(" "),t.showMake?s("div",{staticClass:"make"}):t._e()],1),t._v(" "),s("group",[s("cell",{attrs:{title:"课程介绍"}}),t._v(" "),s("cell-box",[s("div",{domProps:{innerHTML:t._s(t.service.description)}})])],1),t._v(" "),s("group",{staticClass:"outline"},[s("cell",{attrs:{title:"课程大纲"}}),t._v(" "),s("cell-box",t._l(t.outlines,function(e){return s("p",{key:e.name},[t._v(t._s(e.title))])}))],1),t._v(" "),s("div",{on:{click:t.add}},[s("x-button",{staticClass:"add-btn",attrs:{type:"primary"}},[t._v("加入学习("+t._s(t.service.packages[0].unit_price/100)+"元)")])],1),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"circle_process"},[e("div",{staticClass:"wrapper right"},[e("div",{staticClass:"circle rightcircle"})]),this._v(" "),e("div",{staticClass:"wrapper left"},[e("div",{staticClass:"circle leftcircle",attrs:{id:"leftcircle"}})])])}]};var g=s("VU/8")(m,_,!1,function(t){s("1VVY")},null,null).exports,f=s("Kb5Z"),y=s("9UC1"),b=s("VzH6"),C=s("NYxO"),k=(y.default,f.default,b.a,a()({},Object(C.b)({service:function(t){return t.cbti.service},chapters:function(t){return t.cbti.chapters}})),{name:"cbti",components:{introduce:g,Curriculum:y.default,payment:f.default,SleepForm:b.a},created:function(){this.service||this.$store.dispatch("GetCbtiService").then(function(t){console.log(t)}),this.chapters||this.$store.dispatch("GetCbtiChapters").then(function(t){console.log(t)})},computed:a()({},Object(C.b)({service:function(t){return t.cbti.service},chapters:function(t){return t.cbti.chapters}})),data:function(){return{result:{r1:{},r2:{},c1:{},c2:{}},items:[{title:"描述你当前或最近一周入睡困难的严重指数",type:"radio",prop:"r1",default:null,data:[{name:"重度1",value:"1"},{name:"重度2",value:"2"},{name:"重度3",value:"3"}]},{title:"描述你当前或最近一周入睡困难的严重指数2",type:"radio",prop:"r2",data:[{name:"重度1",value:"1"},{name:"重度2",value:"2"},{name:"重度3",value:"3"}]},{title:"描述你当前或最近一周入睡困难的严重指数3",type:"checkbox",prop:"c1",data:[{name:"重度1",value:"1"},{name:"重度2",value:"2"},{name:"重度3",value:"3"}]},{title:"描述你当前或最近一周入睡困难的严重指数4",type:"checkbox",prop:"c2",data:[{name:"重度1",value:"1"},{name:"重度2",value:"2"},{name:"重度3",value:"3"}]},{title:"描述你当前或最近一周入睡困难的严重指数4",label:"如果白天我们感到烦躁即表示我们前一晚睡得很差。",type:"judgment",answer:0,prop:"j1",change:function(t){console.log(t,"judgment callback")}}]}}}),x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cbti"},[t.service&&t.chapters&&t.chapters.meta.is_lock?s("introduce",{attrs:{service:t.service,chapters:t.chapters}}):t._e(),t._v(" "),t.service&&t.chapters&&!t.chapters.meta.is_lock?s("payment",{attrs:{chapters:t.chapters,service:t.service}}):t._e()],1)},staticRenderFns:[]};var S=s("VU/8")(k,x,!1,function(t){s("Qv2i")},null,null);e.default=S.exports},"7c1E":function(t,e){},"9UC1":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("rHil"),a=s("32ER"),n=s("1DHf"),r=s("to2R"),c=s("/kga"),o=s("63CM"),l=(c.a,c.a,o.a,{name:"text-dialog",components:{XDialog:c.a},comments:{XDialog:c.a},directives:{TransferDom:o.a},data:function(){return{show:!1}},props:["isShow","title"],methods:{close:function(){this.$emit("handleHide")}}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[s("x-dialog",{staticClass:"text-dialog",model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[s("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),t._t("default"),t._v(" "),s("div",{staticClass:"close",on:{click:t.close}},[s("svg-icon",{staticClass:"icon-close",attrs:{"icon-class":"record_h5_ icon_delete"}})],1)],2)],1)},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(t){s("7c1E")},null,null).exports,p=s("jNWb"),h=s("gyMJ"),v=(i.a,a.a,n.a,r.a,p.a,{name:"curriculum",components:{Group:i.a,CellBox:a.a,Cell:n.a,SportActionsheet:r.a,TextDialog:d,SleepDialog:p.a},data:function(){return{courses:[],currentCourse:{},currentChapter:{},show:!1,isLastWeekShow:!1,lastWeekSummary:"",player:null,videoOver:!1,playProgress:[],playCurrent:0,num:0,dialog:!1,exerciseIsFilled:!1,questionnairesDialog:!1}},mounted:function(){},methods:{initVideo:function(t,e){(t||e)&&(null!==this.player&&(this.player.dispose(),this.player=null),this.player=new Aliplayer({id:"J_prismPlayer",showBarTime:1e4,controlBarVisibility:"click",x5_orientation:"landscape",vid:t,playauth:e,skinLayout:[{name:"H5Loading",align:"cc"},{name:"controlBar",align:"blabs",children:[{name:"playButton",align:"tl"},{name:"progress",align:"tl"},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"timeDisplay",align:"tr"}]}],cover:"https://sleep-doctor-dev.oss-cn-shenzhen.aliyuncs.com/cbti/banners/1/0a85cea9-e32e-482e-a578-3d4c7d9bcd49.jpg",autoplay:!1,preload:!1}),this.player.on("ready",this.handleReady),this.player.on("pause",this.pause),this.player.on("ended",this.ended),this.player.on("timeupdate",this.timeupdate),this.player.on("play",this.play),this.player.on("cancelFullScreen",this.cancelFullScreen))},play:function(t){this.seek()},doubleClick:function(){var t=this.player.getStatus();null!==this.player&&("playing"===t?this.player.pause():"pause"!==t&&"init"!==t||this.player.play())},playVideo:function(){this.player.play()},nextVideo:function(){var t=this,e=this.$route.query;this.videoOver=!1,this.getCourse(e.id,e.cid).then(function(s){t.courses.map(function(s,i,a){s.id===Number(e.cid)&&(a[i+1].is_lock?t.dialog=!0:(t.$router.replace({name:"curriculum",query:{id:t.currentChapter.id,cid:a[i+1].id}}),t.currentCourse=a[i+1],document.title=a[i+1].title,t.getPlayAuth(a[i+1].id)))})})},newArray:function(t){for(var e=[],s=0;s<t.length;s++){var i=parseInt(t[s],16);if((i=i.toString(2)).length<4)for(var a=0;a<=4-i.length+1;a++)i="0"+i;(i=i.split("")).map(function(t){e.push(Number(t))})}return console.log(e),e},cancelFullScreen:function(){},updataLogs:function(){var t="";console.log(this.playProgress,"updataLogs"),this.playProgress.map(function(e,s,i){if((s+1)%4==0){var a=i.slice(s-4+1,s+1).join("");t+=parseInt(a,2).toString(16)}});var e={video_progress:t.toUpperCase(),end_point:this.playCurrent};h.a.post("/cbti-course/"+this.currentCourse.id+"/logs",e)},ended:function(t){this.updataLogs(),this.currentCourse.exercise_is_filled?this.videoOver=!0:this.nextVideo()},pause:function(){this.updataLogs()},handleReady:function(t){console.log(t,"handleReady"),this.player.play()},timeupdate:function(t){if(0===this.playProgress.length){for(var e=parseInt(this.player.getDuration()),s="",i=0;i<parseInt(e/4);i++)s+="0";console.log(s),this.playProgress=this.newArray(s)}var a=parseInt(this.player.getCurrentTime());this.playProgress[a]=1,this.playCurrent=a,this.num+=1,100===this.num&&(this.updataLogs(),this.num=0)},showCourse:function(){this.show=!0},seek:function(){console.log("续播")},changeCourse:function(t){var e=this;t.is_lock?this.$vux.toast.text("完成上节课程后解锁"):(this.videoOver=!1,this.$router.replace({name:"curriculum",query:{id:this.currentChapter.id,cid:t.id}}),this.getCourse(this.currentChapter.id,t.id).then(function(s){e.playProgress=[],e.getPlayAuth(t.id)}))},goToExercise:function(){this.$router.push({name:"exercises",query:{id:this.currentCourse.id}})},lastWeekReview:function(){var t=this;return h.a.get("/cbti-courses/"+this.currentCourse.id).then(function(e){return t.lastWeekSummary=e.data.last_chapter_summary,t.isLastWeekShow=!0,e})},getPlayAuth:function(t){var e=this;return h.a.get("/cbti-courses/"+t).then(function(t){console.log(t.data.meta.exercise_is_filled,null!==t.data.meta.exercise),t.data.meta.is_pop_questionnaire,null!==t.data.meta.exercise?(t.data.meta.exercise_is_filled||(e.currentCourse.exercise_is_filled=!0),e.exerciseIsFilled=!0,e.currentCourse.cbti_course_id=t.data.meta.exercise.cbti_course_id):e.exerciseIsFilled=!1;var s=t.data;return e.initVideo(s.meta.video_id,s.meta.play_auth),s.meta.course_log&&(e.playProgress=e.newArray(s.meta.course_log.video_progress)),t}).catch(function(t){console.log(t)})},getCourse:function(t,e){var s=this;return h.a.get("/cbti-chapter/"+t+"/courses").then(function(t){return t.data.data.map(function(t){t.id===parseInt(e)&&(s.currentCourse=t,document.title=s.currentCourse.title)}),s.courses=t.data.data,s.currentChapter=t.data.meta.chapter,t})}},created:function(){var t=this,e=this.$route.query;this.getCourse(e.id,e.cid).then(function(e){t.getPlayAuth(t.$route.query.cid)})}}),m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"curriculum"},[s("div",{ref:"video",staticClass:"video",staticStyle:{overflow:"hidden"}},[s("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"},on:{dblclick:t.doubleClick}}),t._v(" "),t.videoOver?s("div",{staticClass:"video-over"},[s("div",{staticClass:"course-title"},[t._v("本节课程结束")]),t._v(" "),s("div",{staticClass:"course-txt"},[t._v("完成随堂练习，巩固所学知识")]),t._v(" "),s("div",{staticClass:"bnts"},[s("div",{staticClass:"reload",on:{click:t.nextVideo}},[t._v("继续观看")]),t._v(" "),s("router-link",{staticClass:"over-video",attrs:{to:{path:"/cbti/exercises?id="+t.currentCourse.cbti_course_id}}},[t._v("完成练习\n        ")])],1)]):t._e()]),t._v(" "),s("div",{staticClass:"curriculum-tab"},[t.exerciseIsFilled?s("router-link",{staticClass:"item",attrs:{to:{path:"/cbti/exercises",query:{id:t.currentCourse.id}}}},[s("svg-icon",{staticClass:"item-icon",attrs:{"icon-class":"cbti_icon_exercise"}}),t._v("\n      课程练习\n    ")],1):t._e(),t._v(" "),1!==t.currentChapter.index&&1===t.currentCourse.index?s("div",{staticClass:"item",on:{click:t.lastWeekReview}},[s("svg-icon",{staticClass:"item-icon",attrs:{"icon-class":"cbti_icon_review"}}),t._v("\n      上周回顾\n    ")],1):t._e()],1),t._v(" "),s("group",{staticClass:"summary"},[s("cell",{attrs:{title:"课程总结"}},[s("span",{staticClass:"curriculum-btn",on:{click:t.showCourse}},[t._v("课程表\n        "),s("svg-icon",{staticClass:"curriculum-icon",attrs:{"icon-class":"cbti_icon_list"}})],1)]),t._v(" "),s("cell-box",[t._v(t._s(t.currentCourse.summary))])],1),t._v(" "),s("sport-actionsheet",{attrs:{showCancel:!1,customMenus:!0},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n      课程列表\n    ")]),t._v(" "),s("div",{staticClass:"curriculum-lists",attrs:{slot:"menus"},slot:"menus"},t._l(t.courses,function(e){return s("div",{key:e.id,staticClass:"item",class:{slock:e.is_lock,ing:e.id===t.currentCourse.id},on:{click:function(s){t.changeCourse(e)}}},[t._v(t._s(e.title)+"\n      ")])}))]),t._v(" "),s("text-dialog",{attrs:{isShow:t.isLastWeekShow,title:"上周回顾"},on:{handleHide:function(e){t.isLastWeekShow=!1}}},[s("p",[t._v(t._s(t.lastWeekSummary))])]),t._v(" "),s("sleep-dialog",{attrs:{cancel:!1,title:"下节课程待开放",content:"完成本节课程学习后自动解锁下节内容"},on:{handleOk:function(e){t.dialog=!1}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}}),t._v(" "),s("sleep-dialog",{attrs:{submitText:"提交",cancel:!1},on:{handleOk:function(e){t.questionnairesDialog=!1}},model:{value:t.questionnairesDialog,callback:function(e){t.questionnairesDialog=e},expression:"questionnairesDialog"}},[s("div",{staticClass:"cbti-questionnaires",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"question"},[t._v("1.上周睡眠限制执行起来感觉如何？")]),t._v(" "),s("div",{staticClass:"selection"},[s("span",[t._v("十分困难")]),t._v(" "),s("span",[t._v("十分困难")]),t._v(" "),s("span",[t._v("十分困难")]),t._v(" "),s("span",[t._v("十分困难")])])])])],1)},staticRenderFns:[]};var _=s("VU/8")(v,m,!1,function(t){s("eJst")},null,null);e.default=_.exports},Kb5Z:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("rHil"),r=s("1DHf"),c=s("/AfO"),o=s("o0rJ"),l=s("mHYM"),u=(n.a,r.a,c.a,Object,Object,{name:"payment",components:{Group:n.a,Cell:r.a,XCircle:c.a},props:{chapters:{type:Object},service:{type:Object}},methods:{toPush:function(t){var e=Object(l.a)();t.is_lock||(2===e?Object(o.a)(function(e){e.callHandler("onCbtiChapterClick",{code:0,message:"onCbtiChapterClick",result:{chapterId:t.id}})}):this.$router.push("/cbti/section-home?id="+t.id))},introduceStatic:function(){var t=[];this.chapters.data.map(function(e){t.push(e.title)}),this.$router.push({path:"/cbti/introduce",query:{video_url:this.service.meta.video_url,chapters:a()(t),description:this.service.description,picture:this.service.picture}})}}}),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payment"},[s("div",{staticClass:"payment-header",style:{backgroundImage:"url("+t.service.picture+")",backgroundSize:"100% 100%"}},[s("div",{staticClass:"payment-title"},[t._v("\n      "+t._s(t.service.name)+"\n    ")]),t._v(" "),s("div",{staticClass:"payment-introduce"},[t._v("\n      "+t._s(t.service.bought_description)+"\n    ")]),t._v(" "),s("div",{staticClass:"payment-nav"},[s("span",[t._v("\n        "+t._s(t.chapters.meta.total_progress_text)+"\n      ")]),t._v(" "),s("span",{staticClass:"more",on:{click:t.introduceStatic}},[t._v("\n        了解更多 >\n      ")])])]),t._v(" "),s("group",{staticClass:"payment-list"},t._l(t.chapters.data,function(e){return s("div",{key:e.name,on:{click:function(s){t.toPush(e)}}},[s("cell",{class:{no:e.is_lock},attrs:{"is-link":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("p",{staticClass:"name"},[t._v(t._s(e.title))]),t._v(" "),!e.is_lock&&e.chapter_progress>70?s("p",{staticClass:"center"},[s("svg-icon",{staticClass:"p-icon",attrs:{"icon-class":"login_icon_selected"}}),t._v(" "),s("span",[t._v("已完成")])],1):t._e(),t._v(" "),!e.is_lock&&e.chapter_progress<70?s("p",{staticClass:"center"},[s("span",{staticClass:"p-icon"},[s("x-circle",{attrs:{percent:e.chapter_progress,"stroke-width":15,"trail-width":15,"stroke-color":"#6595F4","trail-color":"#dfe1e2"}})],1),t._v(" "),s("span",[t._v("进度："+t._s(e.chapter_progress)+"%")])]):t._e(),t._v(" "),e.is_lock?s("p",{staticClass:"center"},[s("svg-icon",{staticClass:"p-icon",attrs:{"icon-class":"cbti_icon_exerciselock"}}),t._v("\n            请先完成上周课程\n          ")],1):t._e()])])],1)}))],1)},staticRenderFns:[]};var p=s("VU/8")(u,d,!1,function(t){s("cUtO")},null,null);e.default=p.exports},Qv2i:function(t,e){},VzH6:function(t,e,s){"use strict";Array,String,String,Number;var i={name:"sleep-form-radio",props:{radioData:{type:Array},current:String,page:String,default:{type:Number,default:null}},data:function(){return{selectIndex:null}},watch:{radioData:function(){this.selectIndex=this.default}},methods:{select:function(t){if(this.selectIndex=t,this.current&&this.page&&this.$parent[this.current]<this.$parent[this.page]){var e=[this.radioData[t],t];this.$emit.apply(this,["change"].concat(e))}}},mounted:function(){this.selectIndex=this.default}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sleep-form-radio"},[s("div",{staticClass:"options-list center-list"},t._l(t.radioData,function(e,i){return s("div",{key:e.id,staticClass:"option",on:{click:function(e){t.select(i)}}},[s("svg-icon",{staticClass:"icon-selected",class:t.selectIndex===i?"active":"",attrs:{"icon-class":t.selectIndex===i?"login_icon_selected":"login_icon_unselected"}}),t._v("\n      "+t._s(e.name)+"\n    ")],1)}))])},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("2UMw")},null,null).exports,r=(String,String,String,String,{name:"sleep-form-home",props:{title:{type:String,default:""},text:{type:String,default:""},doctorName:String,buttonText:{type:String,default:""}},methods:{submit:function(){console.log("home submit"),this.$emit("on-submit")}}}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sleep-form-home"},[s("div",{staticClass:"sleep-form-bg"},[s("h1",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.text))]),t._v(" "),t.doctorName?s("p",{staticClass:"doctor"},[t._v("发放医生："+t._s(t.doctorName))]):t._e(),t._v(" "),s("div",{staticClass:"submit",on:{click:t.submit}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])])])},staticRenderFns:[]};var o=s("VU/8")(r,c,!1,function(t){s("3SDK")},null,null).exports,l=(Array,String,String,String,{name:"sleep-form-checkbox",props:{checkboxData:{type:Array},current:String,page:String,prop:String},data:function(){return{selectIndex:[]}},methods:{select:function(t){var e=t,s=this.selectIndex.find(function(t){return t===e});void 0===s?this.selectIndex.push(e):this.selectIndex.splice(s,1),this.$set(this.checkboxData,e,{active:!this.checkboxData[e].active,name:this.checkboxData[e].name,value:this.checkboxData[e].value}),this.$parent.$parent.result[this.prop]={data:this.checkboxData,type:"checkbox"}}}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sleep-form-checkbox"},[s("div",{staticClass:"options-list",class:{"center-list":t.checkboxData.length<5}},t._l(t.checkboxData,function(e,i){return s("div",{key:e.id,staticClass:"option",on:{click:function(e){t.select(i)}}},[s("svg-icon",{staticClass:"icon-selected",class:e.active?"active":"",attrs:{"icon-class":e.active?"login_icon_selected":"login_icon_unselected"}}),t._v("\n      "+t._s(e.name)+"\n    ")],1)}))])},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(t){s("1Buf")},null,null).exports,p=s("jNWb"),h=(p.a,Function,String,Number,String,String,String,String,String,{name:"judgment",components:{SleepDialog:p.a},props:{change:{type:Function},label:{type:String,default:"未设置 label"},answer:{type:Number,default:null},message:{type:String,default:"问题解释"},result:{type:String},prop:{type:String},page:{type:String},current:{type:String}},data:function(){return{select1:null,yes:"cbti_btn_correct_default",no:"cbti_btn_wrong_default",noSelect:!0,dialog:!1,isAnswer:!0}},methods:{handleOk:function(){this.$parent[this.page]>this.$parent[this.current]+1?(this.$parent[this.current]++,this.dialog=!1,this.noSelect=!0,this.yes="cbti_btn_correct_default",this.no="cbti_btn_wrong_default",this.$parent.$parent[this.result][this.prop].data.push(!this.select1),this.select1=null):(this.$parent.$parent[this.result][this.prop].data.length<this.$parent[this.page]&&this.$parent.$parent[this.result][this.prop].data.push(!this.select1),this.$emit("overFn",this.$parent.$parent[this.result][this.prop].data))},select:function(t){this.noSelect&&(this.select1=t,this.noSelect=!1,this.dialog=!0,t===this.answer?(this.isAnswer=!0,0===t?this.yes="cbti_btn_correct_blue":this.no="cbti_btn_wrong_blue"):t!==this.answer&&(this.isAnswer=!1,0===t?this.yes="cbti_btn_correct_red":this.no="cbti_btn_wrong_red"),this.change(t))}},created:function(){}}),v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"judgment"},[s("div",{staticClass:"text"},[t._v("\n    如果白天我们感到烦躁即表示我们前一晚睡得很差。\n  ")]),t._v(" "),s("div",{staticClass:"judgment-select"},[s("div",{on:{click:function(e){t.select(0)}}},[s("svg-icon",{staticClass:"svg-icon left",attrs:{"icon-class":t.yes}})],1),t._v(" "),s("div",{on:{click:function(e){t.select(1)}}},[s("svg-icon",{staticClass:"svg-icon",attrs:{"icon-class":t.no}})],1)]),t._v(" "),s("sleep-dialog",{attrs:{cancel:!1},on:{handleOk:t.handleOk},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("div",{staticClass:"judgment-dialog",attrs:{slot:"content"},slot:"content"},[s("p",{staticClass:"title"},[t._v("大部分人都经历过睡眠差的时候。")]),t._v(" "),t.isAnswer?s("div",{staticClass:"success"},[t._v("✓ 说法正确")]):s("div",{staticClass:"error"},[t._v("✗ 说法错误")]),t._v(" "),s("div",{staticClass:"content-zi"},[t._v("\n        解释："+t._s(t.message)+"\n      ")])])])],1)},staticRenderFns:[]};var m=s("VU/8")(h,v,!1,function(t){s("edCk")},null,null).exports,_=s("Qb34"),g=(_.a,Array,String,Object,Boolean,Boolean,{name:"",components:{Home:o,Judgment:m,Radio:n,Checkbox:d,scaleQuestion:_.a},methods:{homeSubmit:function(){this.showHome=!1,this.home.callback()},reduce:function(){this.current-=1},plus:function(){this.current+1<this.page&&(this.current+=1)},change:function(t,e){this.$parent[this.result][this.items[this.current].prop]=t,this.$parent.items[this.current].default=e}},props:{items:{type:Array},result:{type:String},home:{type:Object,default:null},isSelect:{type:Boolean,default:!0},isSubmitBtn:{type:Boolean,default:!0}},data:function(){return{showData:{},showHome:!0,current:0}},computed:{showType:{get:function(){return this.items[this.current].type}},page:{get:function(){return this.items.length}}},created:function(){}}),f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sleep-form"},[t.home&&t.showHome?i("home",{attrs:{doctorName:t.home.doctor,text:t.home.text,buttonText:t.home.buttonText,title:t.home.title},on:{"on-submit":t.homeSubmit}}):t._e(),t._v(" "),t.showHome||"scale"===t.showType?t._e():i("div",{staticClass:"question"},[i("div",{staticClass:"sleep-form-header"},[t._v("\n      "+t._s(t.items[t.current].title)+"\n    ")]),t._v(" "),i("div",{staticClass:"sleep-form-bg"},["radio"===t.showType?i("radio",{attrs:{radioData:t.items[t.current].data,current:"current",page:"page",default:t.items[t.current].default},on:{change:t.change}}):t._e(),t._v(" "),"checkbox"===t.showType?i("checkbox",{attrs:{checkboxData:t.items[t.current].data,current:"current",page:"page",prop:t.items[t.current].prop,result:t.result},on:{change:t.change}}):t._e(),t._v(" "),"judgment"===t.showType?i("judgment",{attrs:{answer:t.items[t.current].answer,label:t.items[t.current].label,change:t.items[t.current].change,message:t.items[t.current].message,current:"current",page:"page",prop:t.items[t.current].prop,result:t.result},on:{overFn:function(e){t.$emit("overFn",t.showType,t.items[t.current].prop)}}}):t._e(),t._v(" "),i("div",{staticClass:"jump-btn"},[i("div",{staticClass:"btn-left"},[t.isSelect&&t.current+1>1?i("img",{attrs:{src:s("mhLV"),alt:""},on:{click:t.reduce}}):t._e()]),t._v(" "),i("div",{staticClass:"btn-submit"},[t.isSubmitBtn&&t.current+1===t.page?i("div",{staticClass:"btn",on:{click:function(e){t.$emit("overFn",t.showType)}}},[t._v("\n            生成报告\n          ")]):i("div",{staticClass:"page"},[t._v("\n            "+t._s(t.current+1)+"/"+t._s(t.page)+"\n          ")])]),t._v(" "),i("div",{staticClass:"btn-right"},[t.isSelect&&t.current+1<t.page?i("img",{attrs:{src:s("UQqC"),alt:"reduce"},on:{click:t.plus}}):t._e()])])],1)]),t._v(" "),t.showHome||"scale"!==t.showType?t._e():i("scale-question",{attrs:{type:"cbti",scaleQuestionData:t.items[t.current].data}})],1)},staticRenderFns:[]};var y=s("VU/8")(g,f,!1,function(t){s("vH0i")},null,null);e.a=y.exports},afU2:function(t,e,s){t.exports=s.p+"SleepDoctor-H5/dist/static/img/img_advisory_banner@2x.6a3bdd5.png"},cUtO:function(t,e){},eJst:function(t,e){},edCk:function(t,e){},vH0i:function(t,e){}});
//# sourceMappingURL=4.c78fb1d99e2438360650.js.map